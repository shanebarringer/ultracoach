
Running 74 tests using 6 workers

ğŸ” Starting coach authentication setup...
ğŸ§¹ Cleared existing cookies
API Response: {
  "redirect": false,
  "token": "vFLfmIzHncsEpo89pTUyTJt1c8Ifzndd",
  "user": {
    "id": "11IIOMv5CTucdjk0YXUubKVr3i61wLUZ",
    "email": "alex.rivera@ultracoach.dev",
    "name": "Alex Rivera",
    "image": null,
    "emailVerified": false,
    "createdAt": "2025-09-02T17:01:14.621Z",
    "updatedAt": "2025-09-02T17:01:14.621Z"
  }
}
Response headers: {
  [32m'x-frame-options'[39m: [32m'DENY'[39m,
  [32m'x-content-type-options'[39m: [32m'nosniff'[39m,
  [32m'referrer-policy'[39m: [32m'origin-when-cross-origin'[39m,
  vary: [32m'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'[39m,
  [32m'content-type'[39m: [32m'application/json'[39m,
  [32m'set-cookie'[39m: [32m'better-auth.session_token=vFLfmIzHncsEpo89pTUyTJt1c8Ifzndd.KUQF6gKDhJSQf7jU5yjj44ht2OgraQ17VHdH6nugcgI%3D; Max-Age=1209600; Path=/; HttpOnly; SameSite=Lax'[39m,
  date: [32m'Fri, 05 Sep 2025 22:24:33 GMT'[39m,
  connection: [32m'keep-alive'[39m,
  [32m'keep-alive'[39m: [32m'timeout=5'[39m,
  [32m'transfer-encoding'[39m: [32m'chunked'[39m
}
  âœ“   1 [chromium-unauth] â€º tests/e2e/auth-api.spec.ts:4:7 â€º Authentication API Tests â€º should authenticate via API directly (1.4s)
ğŸ“ Navigated to signin page at http://localhost:3001/auth/signin
Final URL after navigation: /auth/signin
Got redirected to signin, cookies might not be set properly
  âœ“   6 [chromium-unauth] â€º tests/e2e/auth-api.spec.ts:32:7 â€º Authentication API Tests â€º should access dashboard after API authentication (3.3s)
âœ… Filled coach credentials
ğŸ“¤ Submitted login form
ğŸ”„ Current path after login: /auth/signin
  âœ“   4 [chromium-unauth] â€º tests/auth.spec.ts:6:7 â€º Authentication Flow â€º should display signin page (5.7s)
ğŸ”„ Current path after login: /dashboard/coach
âœ… Coach dashboard loaded successfully
ğŸ’¾ Saved coach auth state to /Users/MXB5594/playground/ultracoach/playwright/.auth/coach.json
ğŸª Saved 1 cookies
âœ… Auth cookies saved:
   - better-auth.session_token: present
âœ… Auth file created: /Users/MXB5594/playground/ultracoach/playwright/.auth/coach.json (347 bytes)
  âœ“   3 [setup] â€º tests/auth.setup.ts:6:6 â€º authenticate (11.1s)
  âœ“   2 [setup-coach] â€º tests/auth-coach.setup.ts:6:6 â€º authenticate as coach (11.1s)
  âœ“   5 [chromium-unauth] â€º tests/e2e/auth-flows.spec.ts:24:7 â€º Authentication Flows with Jotai Atoms â€º should complete sign up flow and update auth atoms (16.0s)
  âœ“   7 [chromium-unauth] â€º tests/auth.spec.ts:14:7 â€º Authentication Flow â€º should redirect to dashboard after successful runner login (12.6s)
  âœ“   8 [chromium-unauth] â€º tests/e2e/auth-flows.spec.ts:80:7 â€º Authentication Flows with Jotai Atoms â€º should complete sign in flow and update session atom (9.3s)
  âœ“   9 [chromium-unauth] â€º tests/auth.spec.ts:30:7 â€º Authentication Flow â€º should redirect to dashboard after successful coach login (8.7s)
  âœ“  11 [chromium-unauth] â€º tests/auth.spec.ts:46:7 â€º Authentication Flow â€º should show error for invalid credentials (4.6s)
  âœ“  12 [chromium-unauth] â€º tests/auth.spec.ts:75:7 â€º Landing Page â€º should display landing page with proper navigation (733ms)
  âœ“  10 [chromium-unauth] â€º tests/e2e/auth-flows.spec.ts:116:7 â€º Authentication Flows with Jotai Atoms â€º should handle sign out and clear auth atoms (7.9s)
  âœ“  13 [chromium-unauth] â€º tests/auth.spec.ts:86:7 â€º Landing Page â€º should navigate to signin page from landing page (1.2s)
  âœ“  14 [chromium-unauth] â€º tests/e2e/auth-flows.spec.ts:150:7 â€º Authentication Flows with Jotai Atoms â€º should maintain role-based access with isCoachAtom/isRunnerAtom (10.2s)
  âœ“  15 [chromium-unauth] â€º tests/e2e/auth-flows.spec.ts:174:7 â€º Authentication Flows with Jotai Atoms â€º should persist auth state across page refreshes (12.9s)
  âœ“  16 [chromium-unauth] â€º tests/e2e/auth-flows.spec.ts:202:7 â€º Authentication Flows with Jotai Atoms â€º should handle auth errors gracefully (6.1s)
  âœ“  17 [chromium-unauth] â€º tests/e2e/auth-flows.spec.ts:224:7 â€º Authentication Flows with Jotai Atoms â€º should redirect to originally requested page after auth (7.6s)
  -  22 [chromium-other] â€º tests/e2e/chat-messaging.spec.ts:42:10 â€º Chat Messaging System â€º Coach-Runner Messaging â€º should send and receive messages
  -  23 [chromium-other] â€º tests/e2e/chat-messaging.spec.ts:84:10 â€º Chat Messaging System â€º Coach-Runner Messaging â€º should show typing indicators
Font size: 30px
Color: rgb(236, 237, 238)
Button background: rgb(0, 111, 238)
  âœ“  18 [chromium-other] â€º tests/e2e/check-css.spec.ts:4:7 â€º CSS Loading Check â€º should have CSS loaded on signin page (11.5s)
  âœ˜  25 [chromium-other] â€º tests/e2e/training-plan-management.spec.ts:20:9 â€º Training Plan Management â€º Coach Training Plan Management â€º should display training plans with filtering (15.8s)
  âœ˜  24 [chromium-other] â€º tests/e2e/chat-messaging.spec.ts:130:9 â€º Chat Messaging System â€º Coach-Runner Messaging â€º should mark messages as read (20.5s)
  âœ˜  20 [chromium-other] â€º tests/e2e/coach-runner-relationships.spec.ts:19:9 â€º Coach-Runner Relationship Management â€º Coach Perspective â€º should display available runners to connect with (21.7s)
  âœ“  21 [chromium-runner] â€º tests/dashboard.spec.ts:6:7 â€º Runner Dashboard â€º should display training plans and metrics (32.2s)
  âœ˜  26 [chromium-other] â€º tests/e2e/workout-management.spec.ts:22:9 â€º Workout Management â€º Runner Workout Management â€º should display workouts list with proper filtering (27.4s)
  âœ˜  27 [chromium-other] â€º tests/e2e/training-plan-management.spec.ts:54:9 â€º Training Plan Management â€º Coach Training Plan Management â€º should create a new training plan (21.1s)
  âœ“  19 [chromium-coach] â€º tests/dashboard.spec.ts:25:7 â€º Coach Dashboard â€º should display runners and coach metrics (39.7s)
  âœ˜  28 [chromium-other] â€º tests/e2e/chat-messaging.spec.ts:181:9 â€º Chat Messaging System â€º Coach-Runner Messaging â€º should handle message attachments and links (21.6s)
  âœ˜  29 [chromium-other] â€º tests/e2e/coach-runner-relationships.spec.ts:35:9 â€º Coach-Runner Relationship Management â€º Coach Perspective â€º should send connection request to runner (25.2s)
  âœ˜  31 [chromium-other] â€º tests/e2e/workout-management.spec.ts:48:9 â€º Workout Management â€º Runner Workout Management â€º should create a new workout (23.3s)
  âœ˜  32 [chromium-other] â€º tests/e2e/training-plan-management.spec.ts:105:9 â€º Training Plan Management â€º Coach Training Plan Management â€º should edit training plan details (23.3s)
  âœ“  30 [chromium-runner] â€º tests/dashboard.spec.ts:45:7 â€º Navigation Tests â€º should navigate to training plans page (36.5s)
  âœ˜  33 [chromium-other] â€º tests/e2e/chat-messaging.spec.ts:223:9 â€º Chat Messaging System â€º Coach-Runner Messaging â€º should search messages (23.3s)
  âœ˜  34 [chromium-other] â€º tests/e2e/coach-runner-relationships.spec.ts:62:9 â€º Coach-Runner Relationship Management â€º Coach Perspective â€º should manage active runner relationships (19.3s)
  âœ˜  36 [chromium-other] â€º tests/e2e/workout-management.spec.ts:84:9 â€º Workout Management â€º Runner Workout Management â€º should edit an existing workout (17.7s)
  âœ˜  35 [chromium-other] â€º tests/e2e/training-plan-management.spec.ts:136:9 â€º Training Plan Management â€º Coach Training Plan Management â€º should manage training plan phases (17.7s)
  âœ“  37 [chromium-runner] â€º tests/dashboard.spec.ts:55:7 â€º Navigation Tests â€º should navigate to workouts page (21.2s)
  âœ˜  38 [chromium-other] â€º tests/e2e/chat-messaging.spec.ts:266:9 â€º Chat Messaging System â€º Group Messaging Features â€º should create group conversation (22.7s)
  âœ˜  39 [chromium-other] â€º tests/e2e/coach-runner-relationships.spec.ts:79:9 â€º Coach-Runner Relationship Management â€º Coach Perspective â€º should invite runner via email (27.6s)
  âœ˜  41 [chromium-other] â€º tests/e2e/training-plan-management.spec.ts:166:9 â€º Training Plan Management â€º Coach Training Plan Management â€º should assign workouts to training plan (18.8s)
  âœ˜  40 [chromium-other] â€º tests/e2e/workout-management.spec.ts:112:9 â€º Workout Management â€º Runner Workout Management â€º should log workout completion (19.0s)
  âœ˜  42 [chromium-runner] â€º tests/dashboard.spec.ts:65:7 â€º Navigation Tests â€º should access chat functionality (30.4s)
  âœ˜  45 [chromium-other] â€º tests/e2e/training-plan-management.spec.ts:200:9 â€º Training Plan Management â€º Coach Training Plan Management â€º should duplicate training plan as template (20.1s)
  âœ˜  46 [chromium-other] â€º tests/e2e/workout-management.spec.ts:153:9 â€º Workout Management â€º Runner Workout Management â€º should delete a workout (20.1s)
  âœ˜  43 [chromium-other] â€º tests/e2e/chat-messaging.spec.ts:306:9 â€º Chat Messaging System â€º Group Messaging Features â€º should handle notifications preferences (34.2s)
  âœ˜  44 [chromium-other] â€º tests/e2e/coach-runner-relationships.spec.ts:104:9 â€º Coach-Runner Relationship Management â€º Coach Perspective â€º should view and manage runner training plans (41.6s)
  âœ˜  47 [chromium-other] â€º tests/e2e/training-plan-management.spec.ts:234:9 â€º Training Plan Management â€º Coach Training Plan Management â€º should delete training plan (15.7s)
  âœ˜  48 [chromium-other] â€º tests/e2e/workout-management.spec.ts:186:9 â€º Workout Management â€º Runner Workout Management â€º should sync workout with Strava (15.7s)
  âœ“  52 [chromium-other] â€º tests/e2e/training-plan-management.spec.ts:289:9 â€º Training Plan Management â€º Runner Training Plan Experience â€º should view assigned training plan (15.1s)
  âœ˜  49 [chromium-other] â€º tests/e2e/chat-messaging.spec.ts:346:9 â€º Chat Messaging System â€º Message State Management â€º should update messagesAtom in real-time (27.5s)
  âœ˜  51 [chromium-other] â€º tests/e2e/workout-management.spec.ts:226:9 â€º Workout Management â€º Coach Workout Management â€º should create workout for runner (30.2s)
  âœ˜  54 [chromium-other] â€º tests/e2e/chat-messaging.spec.ts:392:9 â€º Chat Messaging System â€º Message State Management â€º should handle optimistic updates (17.4s)
  âœ˜  53 [chromium-other] â€º tests/e2e/training-plan-management.spec.ts:311:9 â€º Training Plan Management â€º Runner Training Plan Experience â€º should track training plan progress (24.7s)
  âœ˜  50 [chromium-other] â€º tests/e2e/coach-runner-relationships.spec.ts:137:9 â€º Coach-Runner Relationship Management â€º Runner Perspective â€º should display available coaches to connect with (49.0s)
  âœ˜  56 [chromium-other] â€º tests/e2e/chat-messaging.spec.ts:429:9 â€º Chat Messaging System â€º Message State Management â€º should update conversation list order (17.8s)
  âœ˜  57 [chromium-other] â€º tests/e2e/training-plan-management.spec.ts:347:9 â€º Training Plan Management â€º Runner Training Plan Experience â€º should view training plan calendar (19.2s)
